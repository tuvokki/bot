{% extends 'base.html' %}

{% regroup intent_pointer_list by intent as intent_list %}

{% block content_container %}
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <h1>Intent pointers</h1>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            <div class="posts">
                <h1 class="content-subhead">
                    All intent pointers
                </h1>

                <section class="post">
                    <header class="post-header">
                        <h2 class="post-title">Intents</h2>

                        <p class="post-meta">
                            Found {{ intent_list|length }} intents
                        </p>
                    </header>
                    <hr>
                    <div class="post-description">
                        <div class="pure-g">
                            <div class="pure-u-1-3">
                                intent
                            </div>
                            <div class="pure-u-2-3">
                                pointers
                            </div>
                            {% for intent in intent_list %}
                                <div class="pure-u-1-3">
                                    <h3 class="brand-title">{{ intent.name }}</h3>
                                </div>
                                <div class="pure-u-2-3">
                                    <p class="post-meta">
                                        {% for intent_pointer in intent.intentpointer_set.all %}
                                            {{ intent_pointer }}
                                        {% endfor %}
                                    </p>
                                </div>
                            {% endfor %}
                        </div>
                        <a class="pure-button pure-button-primary" href="{% url 'intent-create' %}">Add answer</a>
                    </div>
                </section>
            </div>
        </div>
    </div>
{% endblock %}